# Maintainer: TheBitStick <thebitstick@tfwno.gf>

pkgname=sharexin
pkgver=0.6.1
pkgrel=0
pkgdesc="ShareX for Unix-like systems"
url="https://github.com/ShareXin/ShareXin"
makedepends=('rust' 'cargo' 'curl' 'gtk3' 'gdk-pixbuf2' 'cairo' 'glib2' 'openssl' 'dbus' 'xcb-util' 'gcc' 'cmake' 'clang' 'libappindicator-gtk3')
depends=('feh' 'imagemagick')
arch=('x86_64')
license=('MIT')
sha256sums=('SKIP')
source=("ShareXin::git+https://github.com/ShareXin/ShareXin#branch=master")

build() {
  cd "ShareXin"
  cargo build --release
}

package() {
  cd "ShareXin"
  strip "target/release/$pkgname"
  strip -s "target/release/$pkgname"
  install -Dm755 "target/release/$pkgname" "$pkgdir/usr/local/bin/sharexin"
}
